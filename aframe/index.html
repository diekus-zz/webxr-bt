<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script src="scripts/vendor/aframe-master.min.js"></script>
  <script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script> 
  <script src="scripts/vendor/thingy-bundle.js"></script>
  <script defer src="scripts/webxrbt.js"></script>
  <link href="styles/style.css" rel="stylesheet"/>
  <title>Physical and Immersed (XR + BT) @ GDGDevFest Lviv</title>
</head>
<body>
  <div id="gui">
    <button id="connect">Connect</button>
    <dl id="data">
      <dt>Temperature</dt>
      <dd id="temperature">...</dd>
      <dt>Humidity</dt>
      <dd id="humidity">...</dd>
      <dt>Air Quality</dt>
      <dd id="gas">...</dd>
      <dt>Color</dt>
      <dd id="color">...</dd>
      <dt>Battery</dt>
      <dd id="battery">...</dd>
    </dl>
  </div>
  <a-scene>
    <a-assets>
      <audio id="parrotcry_src" src="audio/lapa.wav" preload="auto"></audio>
      <audio id="fountain_src" src="audio/fountain.wav" preload="auto"></audio>
      <a-asset-item id="parrot_hi" src="models/lapa_hi.glb"></a-asset-item>
      <a-asset-item id="parrot_lo" src="models/lapa_lo.glb"></a-asset-item>
      <a-asset-item id="tree" src="models/tree.glb"></a-asset-item>
      <img id="sky" src="imgs/bg.jpg" crossorigin="anonymous"> 
    </a-assets>
    <a-sky src="#sky"></a-sky>
    
    <a-entity camera position="1.24 1.5 0.8" rotation="-9. -82.1 0" look-controls=""></a-entity>
    <a-entity id="fountain" sound="src:#fountain_src; autoplay:true; loop:true; volume:0.1"></a-entity>
    <a-entity id="parrotcry" sound="src:#parrotcry_src; autoplay:false; loop:false; volume:0.9"></a-entity>

    <a-gltf-model src="#parrot_hi" scale="2 2 2" position="1.9 1 -0.55" rotation="0 1.12 0" gltf-model="models/lapa_hi.glb" id="parrot"></a-gltf-model>
    <a-gltf-model src="#tree" scale="10 10 10" position="2 0 -2" gltf-model="models/tree.glb" id="tree"></a-gltf-model>
    
    <a-sphere id="sph-env" scale="-1 1 1" radius="10" material="transparent:true;opacity:0.2;color:#000000;side:double" ></a-sphere>
    <a-entity position="0 2.25 -15" particle-system="preset: rain;opacity:.7"></a-entity>
  </a-scene>  
</body>
</html>